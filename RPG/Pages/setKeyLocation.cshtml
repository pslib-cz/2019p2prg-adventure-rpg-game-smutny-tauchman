@page
@model RPG_adventura.Pages.setKeyLocationModel
@{ ViewData["Title"] = "setKeyLocation";
}
<p>@Model.index</p>
<p>@Model._ss.getKeyLocation()</p>
@for (int x = 0; x < Model._lo.Rooms.Count; x++)
{
    <p>@Model._lo.Rooms[x].raided - @Model._lo.Rooms[x].id</p>
}


@{
    if ((Model.index == 14) && (Model.key == true))
    {
    <p>Odemykáš dveře..... Zámek zaskřípal a dveře se otevřely. Jsi volný!</p>
    }
    else
    {
    if(Model._lo.Rooms[Model.index].containsKey == true)
    {
        { Model.keyCaptured = true; }
        <p>@Model.message</p>
    }
    if(Model._lo.Rooms[Model.index].containsEnemy == true)
                {
                    <p>Nepřítel</p>
                }
    <p>@Model._lo.Rooms[Model.index].description</p>
    <form method="post">
       @for(int i = 0; i < Model._lo.Rooms[Model.index].rooms.Length; i++)
        {
        <div class="form-check">
            <input type="hidden" asp-for="@Model._lo.Rooms[@Model.index].raided" value="@Model._lo.Rooms[@Model.index].raided" />
            <input type="hidden" asp-for="@Model.keyCaptured" value="@Model.keyCaptured" />
            <input type="hidden" asp-for="@Model.key" value="@Model.key" />
            <input class="form-check-input" type="radio" asp-for="@Model.index" value="@Model._lo.Rooms[Model._lo.Rooms[Model.index].rooms[i]].id">
            <label class="form-check-label" asp-for="@Model.index">
                @Model._lo.Rooms[Model._lo.Rooms[Model.index].rooms[i]].button
            </label>
        </div>
        }
        <button type="submit" class="btn-primary">Play</button>
    </form>

    }
}
